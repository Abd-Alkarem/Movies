<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake ‚Ä¢ AbuM7md</title>
<style>
  :root{--netflix-red:#e50914;--netflix-red-2:#f40612;--chip:#201a38;--chip-2:#2a2046;--text:#fff;--text-dim:#c9c9d4;--border:#2b2b3d;}
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background:
      radial-gradient(1200px 600px at 85% -10%, rgba(123,44,191,.28), transparent 60%),
      radial-gradient(900px 500px at -10% 20%, rgba(229,9,20,.20), transparent 55%),
      linear-gradient(160deg, #0a0a10 0%, #0b0b14 60%, #0b0716 100%);
    color:var(--text); min-height:100vh;
  }
  .container{max-width:900px;margin:0 auto;padding:18px}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px 0;border-bottom:1px solid var(--border)}
  .title{font-weight:800;font-size:1.2rem;color:var(--text-dim)}
  .btn{background:linear-gradient(180deg,var(--netflix-red) 0%, var(--netflix-red-2) 100%);color:#fff;border:none;border-radius:12px;padding:10px 14px;text-decoration:none;display:inline-block;font-weight:700}
  .wrap{margin-top:20px;background:#000;border-radius:12px;border:1px solid rgba(255,255,255,.06);box-shadow:0 20px 50px rgba(0,0,0,.55);padding:16px}
  .top{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:12px}
  .controls{display:flex;gap:8px;flex-wrap:wrap}
  .controls .btn{background:linear-gradient(180deg,#191828 0%, #141428 100%);border:1px solid rgba(123,44,191,.25)}
  .controls .btn.primary{background:linear-gradient(180deg,var(--netflix-red) 0%, #b018e6 120%)}
  .board{display:flex;gap:16px;flex-wrap:wrap;align-items:flex-start}
  canvas{background:#0b0b12;border:1px solid rgba(255,255,255,.08);border-radius:8px;display:block}
  .panel{background: linear-gradient(180deg, rgba(123,44,191,.15) 0%, rgba(10,10,16,0) 100%);border:1px solid rgba(255,255,255,.06);border-radius:10px;padding:12px;min-width:160px;color:var(--text-dim)}
  .mobile{margin-top:12px;display:none;gap:8px;grid-template-columns:repeat(3,1fr)}
  .mobile .btn{padding:12px;border-radius:12px;background:linear-gradient(180deg,#191828 0%, #141428 100%);border:1px solid rgba(123,44,191,.25)}
  @media(max-width:700px){ .board{flex-direction:column;align-items:center} canvas{width:320px;height:320px} .mobile{display:grid} }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="title">üêç Snake</div>
      <a class="btn" href="index.html">‚Üê Back to Home</a>
    </header>

    <div class="wrap">
      <div class="top">
        <div class="title">Classic Snake</div>
        <div class="controls">
          <button class="btn primary" id="sStart">Start</button>
          <button class="btn" id="sPause">Pause</button>
          <button class="btn" id="sReset">Reset</button>
        </div>
      </div>

      <div class="board">
        <canvas id="snakeCanvas" width="480" height="480"></canvas>
        <div class="panel">
          <div><strong>Score:</strong> <span id="sScore">0</span></div>
          <div style="margin-top:8px"><strong>Controls</strong></div>
          <div>‚¨ÖÔ∏è ‚û°Ô∏è ‚¨ÜÔ∏è ‚¨áÔ∏è move, Space to start/pause</div>
          <div class="mobile" style="margin-top:10px">
            <button class="btn" id="mLeft">‚óÄÔ∏é</button>
            <button class="btn" id="mUp">‚ñ≤</button>
            <button class="btn" id="mRight">‚ñ∂Ô∏é</button>
            <div></div>
            <button class="btn" id="mDown">‚ñº</button>
            <button class="btn" id="mPause">‚èØ</button>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
(() => {
  const canvas = document.getElementById('snakeCanvas');
  const ctx = canvas.getContext('2d');
  const scoreEl = document.getElementById('sScore');
  const btnStart = document.getElementById('sStart');
  const btnPause = document.getElementById('sPause');
  const btnReset = document.getElementById('sReset');

  const mLeft = document.getElementById('mLeft');
  const mRight = document.getElementById('mRight');
  const mUp = document.getElementById('mUp');
  const mDown = document.getElementById('mDown');
  const mPause = document.getElementById('mPause');

  const size = 20; // cell size
  const cols = Math.floor(canvas.width / size);
  const rows = Math.floor(canvas.height / size);

  let snake, dir, food, score, running, tickMs, lastTick;

  function reset() {
    snake = [{x: Math.floor(cols/2), y: Math.floor(rows/2)}];
    dir = {x: 1, y: 0};
    score = 0;
    running = false;
    tickMs = 120;
    spawnFood();
    draw();
    updateScore();
  }

  function spawnFood() {
    let x, y;
    do {
      x = Math.floor(Math.random()*cols);
      y = Math.floor(Math.random()*rows);
    } while (snake.some(s => s.x===x && s.y===y));
    food = {x, y};
  }

  function updateScore() { scoreEl.textContent = score; }

  function draw() {
    ctx.fillStyle = '#0b0b12';
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // grid (subtle)
    ctx.strokeStyle = 'rgba(255,255,255,.04)';
    for (let x=0; x<=cols; x++) {
      ctx.beginPath(); ctx.moveTo(x*size,0); ctx.lineTo(x*size,canvas.height); ctx.stroke();
    }
    for (let y=0; y<=rows; y++) {
      ctx.beginPath(); ctx.moveTo(0,y*size); ctx.lineTo(canvas.width,y*size); ctx.stroke();
    }

    // food
    ctx.fillStyle = '#e50914';
    ctx.fillRect(food.x*size, food.y*size, size, size);

    // snake
    ctx.fillStyle = '#7b2cbf';
    snake.forEach((s,i) => {
      ctx.fillRect(s.x*size, s.y*size, size, size);
      ctx.strokeStyle = 'rgba(255,255,255,.08)';
      ctx.strokeRect(s.x*size+0.5, s.y*size+0.5, size-1, size-1);
    });
  }

  function step(timestamp) {
    if (!running) { lastTick = timestamp; requestAnimationFrame(step); return; }
    if (timestamp - lastTick < tickMs) { requestAnimationFrame(step); return; }
    lastTick = timestamp;

    const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};

    // wrap around (or change to collision walls if you want)
    head.x = (head.x + cols) % cols;
    head.y = (head.y + rows) % rows;

    // self collision
    if (snake.some(seg => seg.x===head.x && seg.y===head.y)) {
      running = false; alert('Game Over'); reset(); return;
    }

    snake.unshift(head);

    if (head.x === food.x && head.y === food.y) {
      score += 10; updateScore(); spawnFood();
      if (tickMs > 60) tickMs -= 2; // speed up slowly
    } else {
      snake.pop();
    }

    draw();
    requestAnimationFrame(step);
  }

  function changeDir(nx, ny) {
    // prevent reversing directly
    if (snake.length > 1 && snake[1].x === snake[0].x + nx && snake[1].y === snake[0].y + ny) return;
    dir = {x: nx, y: ny};
  }

  document.addEventListener('keydown', e => {
    if (e.code === 'ArrowLeft') changeDir(-1,0);
    else if (e.code === 'ArrowRight') changeDir(1,0);
    else if (e.code === 'ArrowUp') changeDir(0,-1);
    else if (e.code === 'ArrowDown') changeDir(0,1);
    else if (e.code === 'Space') running = !running;
  });

  function touch(btn, fn){
    if (!btn) return;
    btn.addEventListener('click', fn);
    btn.addEventListener('touchstart', (e)=>{e.preventDefault(); fn();}, {passive:false});
  }
  touch(mLeft, ()=>changeDir(-1,0));
  touch(mRight,()=>changeDir(1,0));
  touch(mUp,   ()=>changeDir(0,-1));
  touch(mDown, ()=>changeDir(0,1));
  touch(mPause,()=>running=!running);

  btnStart.addEventListener('click', ()=> running = true);
  btnPause.addEventListener('click', ()=> running = false);
  btnReset.addEventListener('click', reset);

  reset();
  requestAnimationFrame(step);
})();
</script>
</body>
</html>
